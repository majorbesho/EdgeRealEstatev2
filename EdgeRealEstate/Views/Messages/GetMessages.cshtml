@model IEnumerable<EdgeRealEstate.Entities.Message>

@{
    ViewBag.Title = "GetMessages";
    Layout = "~/Views/Shared/_AdminPage.cshtml";
}

<h2>All Messages</h2>

<div class="MessagesList" id="MessagesList">
    @foreach (var item in Model)
    {
    <div class="Messageitem" style="background-color: @(item.Seen == false ?  "#e5f3ff" : "");">
        <div class="row">
            <div class="col-md-3">
                <div class="row">
                    <div style="margin:10px 0px" class="col-md-12"> <span style="font-weight:700"> Sender : </span>@item.SenderUsername</div>
                    <div style="margin:10px 0px" class="col-md-12"> <span style="font-weight:700"> Sent At : </span>@item.SentAt.ToShortDateString() || @item.SentAt.ToShortTimeString()</div>
                </div>
            </div>
            <div class="col-md-3">
                <a class="btn btn-success btn-sm ViewMSG" MSGID="@item.ID" href="/Messages/View/@item.ID">View This Message</a>
                <a class="btn btn-info btn-sm " href="/Messages/GetMessagesForUser/@item.SenderId">All From This User</a>
                <a class="btn btn-primary btn-sm " href="/Messages/Create/">Send Him Message </a>
            </div>
            <div class="col-md-6">
                @Html.Raw(item.MessageContent.Length > 150 ? item.MessageContent.Substring(0, 150) : item.MessageContent) ...
            </div>
        </div>
    </div>
    }
</div>